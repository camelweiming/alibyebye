<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="item">

    <insert id="insert" parameterType="com.abb.bye.client.domain.ItemDO" useGeneratedKeys="true" keyProperty="id">
        insert into
        item(gmt_create,gmt_modified,title,pics,priority,status,categories,keywords,attributes,summary,user_id)
        values(#{gmtCreate},#{gmtModified},#{title},#{pics},#{priority},#{status},#{categories},#{keywords},#{attributes},#{summary},#{userId})
    </insert>

    <sql id="queryColumns">
        id ,user_id ,gmt_create ,gmt_modified ,title ,pics ,priority ,status ,categories ,keywords ,attributes ,summary
    </sql>

    <select id="get" parameterType="long" resultType="com.abb.bye.client.domain.ItemDO">
        select
        <include refid="queryColumns"/>
        from item where id=#{id}
    </select>

    <select id="list" parameterType="com.abb.bye.client.domain.query.ItemQueryDO" resultType="com.abb.bye.client.domain.ItemDO">
        select
        <include refid="queryColumns"/>
        from item where 1=1
        <if test="status!= null">
            AND status=#{status}
        </if>
        limit #{start},#{length}
    </select>
</mapper>